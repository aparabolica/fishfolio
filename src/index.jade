extends views/layouts/site

//- block title
//-   title Miguel Peixe

block head

block header-branding
  h1
    a(ui-sref="home") {{about.title || 'Site title' | translate}}
  p {{about.tagline || 'Tagline' | translate}}

block sections
  section#welcome
    p {{about.description || 'Description' | translate}}
    .social
      a.fa.fa-github(href="http://github.com/{{about.github}}" rel="external" target="_blank" ng-show="about.github")
      a.fa.fa-facebook(href="{{about.facebook}}" rel="external" target="_blank" ng-show="about.facebook")
      a.fa.fa-twitter(href="http://twitter.com/{{about.twitter}}" rel="external" target="_blank" ng-show="about.twitter")
      a.fa.fa-envelope(href="mailto:{{about.email}}" rel="external" target="_blank" ng-show="about.email")

block body
  div(ui-view autoscroll="true")
  section#projects.project-list
    header#projects-header
      .container
        .twelve.columns
          .header-content
            h2(ng-show="user") Projects
            button(ng-show="user" ng-click="new()" title="Add new project") +
        .twelve.columns
          nav.header-nav
            .container.full
              .six.columns
                .tags.nav-item(ng-show="tags")
                  h3
                    span.fa.fa-tag
                    | Project tags
                  .tag-content
                    a(href="javascript:void(0);" ng-repeat="tag in tags | orderBy:'count':true" ng-click="filterProject('tags', tag.name)" ng-class="{active: filtered.tags == tag.name}") {{tag.name | translate}}
                      span.count {{tag.count}}
              .six.columns
                .techs.nav-item(ng-show="techs")
                  h3
                    span.fa.fa-gear
                    | Technologies
                  .tag-content
                    a(href="javascript:void(0);" ng-repeat="tech in techs | orderBy:'count':true" ng-click="filterProject('techs', tech.name)" ng-class="{active: filtered.techs == tech.name}") {{tech.name | translate}}
                      span.count {{tech.count}}
    article.project(ng-repeat="project in projects | byCommaTags:filtered.techs:'techs' | byCommaTags:filtered.tags:'tags' | orderBy:latestCommit:true" ng-hide="project.$id == viewingProject")
      .container
        .twelve.columns
          .actions(ng-show="user")
            a(href="javascript:void(0);" ng-click="edit(project)" title="Edit") E
            a(href="javascript:void(0);" ng-click="remove(project)" title="Remove") R
          h3
            span.year(ng-show="project.launch_year") {{project.launch_year}}
            a(ui-sref="project({projectId: project['$id']})") {{project.name | translate}}
      .container
        .four.columns
          .project-meta.container.full
            gh-chart(data="ghData[project.$id].commitActivity" line-color="'#999'" tooltip="false" ng-show="project.github && latestCommit(project) !== -1")
            p.tags(ng-show="project.tags")
              span.fa.fa-tag
              span(ng-repeat="tag in (project.tags | translate | commaSplit)") {{tag}}
            p.tags(ng-show="project.techs")
              span.fa.fa-gear
              span(ng-repeat="tech in (project.techs | translate | commaSplit)") {{tech}}
            .links
              a.fa.fa-link(href="{{project.url}}" ng-show="project.url" target="_blank" rel="external")
              a.fa.fa-github(href="http://github.com/{{project.github}}" ng-show="project.github" target="_blank" rel="external")
              a.fa.fa-facebook(href="{{project.facebook}}" ng-show="project.facebook" target="_blank" rel="external")
              a.fa.fa-twitter(href="http://twitter.com/{{project.twitter}}" ng-show="project.twitter" target="_blank" rel="external")
        .six.columns
          p.description {{project.description | translate}}
