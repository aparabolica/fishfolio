extends views/layouts/site

//- block title
//-   title Miguel Peixe
  
block head

block header-branding
  h1
    a(ui-sref="home") {{about.title || 'Site title' | translate}}
  p {{about.tagline || 'Tagline' | translate}}

block sections
  section#welcome
    p {{about.description || 'Description' | translate}}

block body
  div(ui-view autoscroll="true")
  section#projects.project-list
    header#projects-header
      .container
        .twelve.columns
          .header-content
            h2 Projects
            button(ng-show="user" ng-click="new()" title="Add new project") +
        .twelve.columns
          nav.header-nav
            .container.full
              .six.columns
                .tags.nav-item(ng-show="tags")
                  h3 Project tags
                  .tag-content
                    a(href="javascript:void(0);" ng-repeat="tag in tags | orderBy:'count':true" ng-click="filterProject('tags', tag.name)" ng-class="{active: filtered.tags == tag.name}") {{tag.name | translate}}
                      span.count {{tag.count}}
              .six.columns
                .techs.nav-item(ng-show="techs")
                  h3 Technologies
                  .tag-content
                    a(href="javascript:void(0);" ng-repeat="tech in techs | orderBy:'count':true" ng-click="filterProject('techs', tech.name)" ng-class="{active: filtered.techs == tech.name}") {{tech.name | translate}}
                      span.count {{tech.count}}
    article.project(ng-repeat="project in projects | byCommaTags:filtered.techs:'techs' | byCommaTags:filtered.tags:'tags' | orderBy:latestCommit:true" ng-hide="project.$id == viewingProject")
      .container
        .twelve.columns
          .actions(ng-show="user")
            a(href="javascript:void(0);" ng-click="edit(project)" title="Edit") E
            a(href="javascript:void(0);" ng-click="remove(project)" title="Remove") R
          h3 
            a(ui-sref="project({projectId: project['$id']})") {{project.name | translate}}
          .project-meta.container.full
            gh-chart(data="ghData[project.$id].commitActivity" line-color="'#999'" tooltip="false" ng-show="project.github")
            p.tags(ng-show="project.tags")
              span(ng-repeat="tag in (project.tags | translate | commaSplit)") {{tag}}
          p.description {{project.description | translate}}
