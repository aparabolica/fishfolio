!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(a){var b={a:/[\xE0-\xE6]/g,A:/[\xC0-\xC6]/g,e:/[\xE8-\xEB]/g,E:/[\xC8-\xCB]/g,i:/[\xEC-\xEF]/g,I:/[\xCC-\xCF]/g,o:/[\xF2-\xF6]/g,O:/[\xD2-\xD6]/g,u:/[\xF9-\xFC]/g,U:/[\xD9-\xDC]/g,c:/\xE7/g,C:/\xC7/g,n:/\xF1/g,N:/\xD1/g};for(var c in b){var d=b[c];a=a.replace(d,c)}return a}!function(a){b.exports=function(a){a.controller("SiteCtrl",["$scope","$state","$filter","$firebaseArray","$firebaseObject","$firebaseAuth","$firebaseStorage","FFService","StorageService","ngDialog","$http","Lang",function(a,b,c,e,f,g,h,i,j,k,l,m){firebase.database().ref();a.authObj=g(),a.$watch(function(){return a.authObj.$getAuth()},function(b){a.user=b}),a.langs=m.getLanguages(),a.lang=m.get(),a.$watch(function(){return m.get()},function(b){a.lang=b}),a.setLang=function(a){m.set(a)},a.formLang=function(b){a.lang=b},a.$on("$stateChangeSuccess",function(b,c,d){d.projectId?a.viewingProject=d.projectId:a.viewingProject=!1}),a.login=function(){a.authDialog=k.open({template:"views/login.html",controller:"AuthCtrl"})},a.$on("logged.in",function(){a.authDialog&&(a.authDialog.close(),a.authDialog=null)}),a.filtered={},a.filterProject=function(b,c){a.filtered[b]==c?a.filtered[b]=null:a.filtered[b]=c};var n=firebase.database().ref().child("projects");a.projects=e(n),a.ghData={},a.sort="year",a.reverse=!1,a.projectSort=function(b){return function(e){switch(b){case"github":var f;return a.ghData[e.$id]&&(f=a.ghData[e.$id].latestCommit),f||(f=-1),-f;case"name":return d(c("i18n")(e.name));case"year":return-e.launch_year}}},a.resetFilters=function(){a.filtered={},a.search="",a.sort="year"},a.totalCommits=function(b){var c;return a.ghData[b.$id]&&(c=a.ghData[b.$id].totalCommits),c},a.latestCommit=function(b){var c;return a.ghData[b.$id]&&(c=a.ghData[b.$id].latestCommit),c||(c=-1),c},a.projects.$loaded(function(b){b.forEach(function(b){b.github&&(a.ghData[b.$id]={},l.get("https://api.github.com/repos/"+b.github+"/stats/commit_activity").then(function(c){a.ghData[b.$id].commitActivity=c.data,a.ghData[b.$id].totalCommits=0,c.data.forEach(function(c){a.ghData[b.$id].totalCommits+=c.total,c.total&&(a.ghData[b.$id].latestCommit=c.week)})}))})}),a.projects.$watch(function(){a.tags=i.getUniq(a.projects,"tags",","),a.techs=i.getUniq(a.projects,"techs",",")});var o=firebase.database().ref().child("about");a.about=f(o),a.about.$loaded(function(){angular.element("body").css({opacity:1})});var p=["title","tagline","description"];a.settings=function(){a.about.$loaded(function(a){a.$translatedKeys=[];for(var b in a)p.indexOf(b)!=-1&&(a.$translatedKeys.push(b),a[b]=langSplit(a[b]))}),a.aboutDialog=k.open({template:"views/settings.html",scope:a})},a.saveSettings=function(b){p.forEach(function(a){b[a]&&(b[a]=langJoin(b[a]))}),b.$save().then(function(){a.aboutDialog.close(),a.aboutDialog=null})},a["new"]=function(){a.project={},a.editDialog=k.open({template:"views/project-edit.html",scope:a})};var q=["name","description","long_description","tags","techs"];a.edit=function(b){if(a.projectMedia={},"function"!=typeof b.$save){var b=firebase.database().ref().child("projects").child(b.$id);a.project=f(b)}else a.project=b;a.project.$loaded(function(a){a.$translatedKeys=[];for(var b in a)q.indexOf(b)!=-1&&(a.$translatedKeys.push(b),a[b]=langSplit(a[b]))}),a.editDialog=k.open({template:"views/project-edit.html",scope:a})},a.saveProject=function(b,c){q.forEach(function(a){b[a]&&(b[a]=langJoin(b[a]))}),b.$id?b.$save().then(function(){if(a.projectMedia.screenshots){var c=j.put(a.projectMedia.screenshots,"screenshots/"+b.$id);c.forEach(function(a){a.$progress(function(){}),a.$error(function(){}),a.$complete(function(){})})}a.editDialog.close(),a.editDialog=null}):a.projects.$add(b).then(function(){if(a.projectMedia.screenshots){j.put(a.projectMedia.screenshots,"screenshots/"+b.$id);tasks.forEach(function(a){a.$progress(function(){}),a.$error(function(){}),a.$complete(function(){})})}a.editDialog.close(),a.editDialog=null})},a.remove=function(b){confirm("Are you sure?")&&a.projects.$remove(b)}}]),a.controller("AuthCtrl",["firebase","$rootScope","$scope","$firebaseAuth",function(a,b,c,d){a.database().ref();c.authObj=d(),c.auth=function(a){c.authObj.$signInWithEmailAndPassword(a.email,a.password).then(function(a){b.$broadcast("logged.in"),console.log("Logged in as: "+a.uid)},function(a){console.log("Auth failed: "+a)})}}]),a.controller("ProjectCtrl",["$scope","$stateParams","$firebaseObject","ngDialog","$http",function(a,b,c,d,e){var f=firebase.database().ref().child("projects").child(b.projectId);a.project=c(f),a.project.$loaded(function(b){b.github&&e.get("https://api.github.com/repos/"+b.github+"/stats/commit_activity").then(function(b){a.commitActivity=b.data,a.totalCommits=0,b.data.forEach(function(b){a.totalCommits+=b.total})})})}])}}()},{}],2:[function(a,b,c){!function(a,c){b.exports=function(b){b.directive("fullWidth",[function(){return{restrict:"EA",scope:{offset:"=",fixHeight:"="},link:function(b,c,d){b.offset=b.offset||0,a(window).on("resize",function(){var d=a(c).offset(),e=a(window).width();a(c).css({width:e-d.left-b.offset,display:"block"}),b.fixHeight&&a(c).height(a(c).find("> *").height())}),a(window).resize()}}}]),b.directive("webDevice",["$sce",function(b){return{restrict:"E",scope:{src:"=",width:"=",height:"="},transclude:!0,replace:!0,template:'<div class="web-device-container"><div class="web-device-content"><iframe ng-src="{{url}}" frameborder="0"></iframe></div><ng-transclude></ng-transclude</div>',link:function(c,d,e){c.$watch("src",function(a){c.url=b.trustAsResourceUrl(c.src)}),a(window).on("resize",function(){var b=a(d).parent().width(),e=b/c.width;a(d).css({width:c.width*e,height:c.height*e});var f=a(d).find(".web-device-content").width()/c.width;a(d).find("iframe").css({width:c.width,height:c.height,"transform-origin":"top left",transform:"scale("+f+")",transition:"all .2s linear"})}),a(window).resize()}}}]),b.directive("ghChart",["$timeout",function(b){return{restrict:"E",scope:{data:"=",backgroundColor:"=",lineColor:"=",width:"=",height:"=",tooltip:"=",tooltipLabel:"=",full:"="},replace:!0,template:"<div></div>",link:function(b,c,d){a(c).addClass("gh-chart").highcharts({chart:{type:"spline",backgroundColor:b.backgroundColor||"#333",width:b.width,height:b.height,renderTo:"gh-chart",events:{load:function(){var a=this.series[0];b.$watch("data",function(b){var c=[];b&&b.forEach(function(a){c.push([new Date(1e3*a.week).toISOString(),a.total])}),a.setData(c)})}}},title:!1,subtitle:!1,tooltip:{enabled:b.tooltip,followPointer:!0,backgroundColor:b.backgroundColor||null,formatter:function(){var a="";return b.tooltipLabel&&(a='<span class="label"><b>'+b.tooltipLabel+"</b></span><br/>"),'<span class="gh-tooltip">'+a+'<span class="date">'+moment(this.key).format("L")+'</span> - <span class="total">'+this.y+" commits</span></span>"},borderRadius:0,shadow:!1,style:{color:b.lineColor}},legend:{enabled:!1,color:b.lineColor},credits:{enabled:!1},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%e. %b",year:"%b"},title:"Date",tickInterval:6048e5,tickWidth:0,visible:!1},yAxis:{min:0,title:"Commits",visible:!1},series:[{lineWidth:1,marker:{enabled:!1},name:"Commits",color:b.lineColor||null,data:[]}]})}}}])}}(window.jQuery)},{}],3:[function(a,b,c){!function(a,c){b.exports=function(b){b.filter("byCommaTags",["$filter",function(b){return function(c,d,e){return c&&d&&e?a.filter(c,function(c){var f=b("i18n")(c[e]);return a.find(f.split(","),function(a){return a.trim()==d})}):c}}]),b.filter("commaSplit",[function(){return function(a){return a=a||"",arr=a.split(","),arr.forEach(function(a){a=a.trim()}),arr}}]),b.filter("toHtml",["$sce",function(a){return function(b){return b=b||"",a.trustAsHtml(b)}}])}}(window._)},{}],4:[function(a,b,c){!function(a,c){var d={en:"en",pt:"pt",es:"es"};String.prototype.langsplit=function(a){if(3==="a~b".split(/(~)/).length)return this.split(a);a.global||(a=new RegExp(a.source,"g"+(a.ignoreCase?"i":"")));for(var b,c=0,d=[];null!=(b=a.exec(this));)d.push(this.slice(c,b.index)),b.length>1&&d.push(b[1]),c=a.lastIndex;return c<this.length&&d.push(this.slice(c)),c==this.length&&d.push(""),d},langGetSplitBlocks=function(a){var b=/(<!--:[a-z]{2}-->|<!--:-->|\[:[a-z]{2}\]|\[:\]|\{:[a-z]{2}\}|\{:\})/gi;return"string"==typeof a?a.langsplit(b):""},langSplit=function(a){var b=langGetSplitBlocks(a);return langSplitBlocks(b)},langSplitBlocks=function(a){var b=new Object;for(var c in d)b[c]="";if(!a||!a.length)return b;if(1==a.length){var e=a[0];for(var c in d)b[c]+=e;return b}for(var f,g=/<!--:([a-z]{2})-->/gi,h=/\[:([a-z]{2})\]/gi,i=/\{:([a-z]{2})\}/gi,c=!1,j=0;j<a.length;++j){var e=a[j];if(e.length)if(f=g.exec(e),g.lastIndex=0,null==f)if(f=h.exec(e),h.lastIndex=0,null==f)if(f=i.exec(e),i.lastIndex=0,null==f)if("<!--:-->"!=e&&"[:]"!=e&&"{:}"!=e)if(c)b[c]?b[c]+=e:b[c]=e,c=!1;else for(var k in b)b[k]+=e;else c=!1;else c=f[1];else c=f[1];else c=f[1]}return b},langJoin=function(a){var b="";for(var c in a)b+="[:"+c+"]"+a[c];return b},b.exports=function(a){a.factory("Lang",["$cookies","$stateParams","gettextCatalog",function(a,b,c){var e,f=navigator.language||navigator.userLanguage;e=b.lang?_.find(d,function(a){return b.lang==a}):_.find(d,function(a){return f.indexOf(a)!==-1}),a.get("lang")&&!b.lang||a.put("lang",e||"en");var g=a.get("lang"),h="en";return"pt"==g&&(h="pt_BR"),"es"==g&&(h="es_ES"),c.setCurrentLanguage(h),{get:function(){return g},getLanguages:function(){return d},set:function(b){g=b,a.put("lang",b),location.reload()}}}]),a.filter("i18n",["Lang",function(a){return function(b){return"undefined"==typeof b?"":"object"==typeof b?b[a.get()]:langSplit(b)[a.get()]}}]),a.filter("langJoin",[function(){return function(a){return langJoin(a)}}]),a.filter("langSplit",[function(){return function(a){return langSplit(a)}}])}}(window.angular)},{}],5:[function(a,b,c){!function(b,c){var d=b.module("fishfolio",["fishfolio.config","gettext","ngCookies","ngFileUpload","ui.router","ngDialog","firebase","textAngular"]);a("./translations"),d.config(["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider","firebaseConfig",function(a,b,c,d,e){firebase.initializeApp(e),c.html5Mode({enabled:!1}),c.hashPrefix("!"),a.state("home",{url:""}).state("project",{url:"/projects/:projectId",controller:"ProjectCtrl",templateUrl:"views/project.html"})}]).run(["$rootScope",function(a){a.$on("$stateChangeSuccess",function(a,b,c,d){"project"!=b.name&&"home"!=b.name||!d.name||$("html,body").animate({scrollTop:$("#projects").offset().top-70})})}]),a("./i18n")(d),a("./services")(d),a("./controllers")(d),a("./directives")(d),a("./filters")(d),b.element(document).ready(function(){b.bootstrap(document,["fishfolio"])})}(window.angular)},{"./controllers":1,"./directives":2,"./filters":3,"./i18n":4,"./services":6,"./translations":7}],6:[function(a,b,c){!function(a){b.exports=function(a){a.factory("FFService",["$firebaseObject","$firebaseArray","$filter",function(a,b,c){return{getUniq:function(a,b,d){d=d||!1;var e=[];a.forEach(function(a){var f=[];if(a[b])if(d){var g=c("i18n")(a[b]);g&&g.split(d).forEach(function(a){f.push(a.trim())})}else f.push(a[b]);e=e.concat(f)});var f={};e.forEach(function(a){f[a]=f[a]?f[a]+1:1});var g=[];for(var h in f)g.push({name:h,count:f[h]});return g}}}]),a.factory("StorageService",["$firebaseStorage",function(a){var b=firebase.storage().ref();return{put:function(c,d){_.isArray(c)||(c=[c]);var e=[];return c.forEach(function(c,f){var g=b.child(d+"/"+c.name),h=a(g);e.push(h.$put(c))}),e}}}])}}()},{}],7:[function(a,b,c){angular.module("fishfolio").run(["gettextCatalog",function(a){a.setStrings("es_ES",{"Currently viewing all projects.":"Está viendo todos los proyectos.","Currently viewing projects":"Está viendo proyectos",Login:"Iniciar Sesión",Logout:"Cerrar Sesión","Ordering by":"Ordenando por","Project tags":"Etiquetas de proyecto",Projects:"Proyectos","Recent activity in code repository":"Actividad reciente en el repositorio de código","Reset filters":"Borrar filtros","Search projects...":"Buscar proyectos...",Settings:"Configuraciones",Technologies:"Tecnologías","View all projects":"Mostrar todos los proyectos",and:"y",containing:"conteniendo","latest projects":"últimos proyectos",name:"nombre","recent activity":"actividad reciente",tagged:"etiquetados como"}),a.setStrings("pt_BR",{"Currently viewing all projects.":"Visualizando todos os projetos.","Currently viewing projects":"VIsualizando projetos",Login:"Entrar",Logout:"Sair","Ordering by":"Ordernado por","Project tags":"Tags de projetos",Projects:"Projetos","Recent activity in code repository":"Atividade recente no repositório de código","Reset filters":"Limpar filtros","Search projects...":"Buscar projetos...",Settings:"Configurações",Technologies:"Tecnologias","View all projects":"Ver todos os projetos",and:"e",containing:"contendo","latest projects":"últimos projetos",name:"nome","recent activity":"atividade recente",tagged:"marcados como"})}])},{}]},{},[5]);