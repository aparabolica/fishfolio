!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){!function(a,b,c,d){var e=a.module("fishfolio",["fishfolio.config","ui.router","ngDialog","firebase","textAngular"]);e.config(["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider",function(a,b,c,d){c.html5Mode({enabled:!1}),c.hashPrefix("!"),a.state("home",{url:""}).state("project",{url:"/projects/:projectId",controller:"ProjectCtrl",templateUrl:"views/project.html"})}]),e.factory("FFService",["$firebaseObject","$firebaseArray",function(a,b){return{FFProject:a.$extend({getTags:function(){var a=this.tags.split(",");return a.forEach(function(a){a=a.trim()}),a}})}}]),e.controller("SiteCtrl",["$scope","$state","firebase","$firebaseArray","$firebaseObject","FFService","$firebaseAuth","ngDialog","$http",function(a,b,c,d,e,f,g,h,i){var j=new Firebase(c);a.authObj=g(j),a.$watch(function(){return a.authObj.$getAuth()},function(b){a.user=b}),a.$on("$stateChangeSuccess",function(b,c,d){d.projectId?a.viewingProject=d.projectId:a.viewingProject=!1}),a.login=function(){a.authDialog=h.open({template:"views/login.html",controller:"AuthCtrl"})},a.$on("logged.in",function(){a.authDialog&&(a.authDialog.close(),a.authDialog=null)});var k=new Firebase(c+"/projects");a.projects=d(k),a.projects.$loaded().then(function(a){a.forEach(function(a){a.github&&i.get("https://api.github.com/repos/"+a.github+"/stats/commit_activity").then(function(b){a.commitActivity=b.data,a.totalCommits=0,b.data.forEach(function(b){a.totalCommits+=b.total})})})});var l=new Firebase(c+"/about");a.about=e(l),a.settings=function(){a.aboutDialog=h.open({template:"views/settings.html",scope:a})},a["new"]=function(){a.project={},a.editDialog=h.open({template:"views/project-edit.html",scope:a})},a.edit=function(b){if("function"!=typeof b.$save){var b=new Firebase(c+"/projects/"+b.$id);a.project=e(b)}else a.project=b;a.editDialog=h.open({template:"views/project-edit.html",scope:a})},a.remove=function(b){confirm("Are you sure?")&&a.projects.$remove(b)}}]),e.controller("AuthCtrl",["firebase","$rootScope","$scope","$firebaseAuth",function(a,b,c,d){var e=new Firebase(a);c.authObj=d(e),c.auth=function(a){c.authObj.$authWithPassword(a).then(function(a){b.$broadcast("logged.in"),console.log("Logged in as: "+a.uid)},function(a){console.log("Auth failed: "+a)})}}]),e.controller("ProjectCtrl",["$scope","$stateParams","firebase","$firebaseObject","ngDialog","$http",function(a,b,c,d,e,f){var g=new Firebase(c+"/projects/"+b.projectId);a.project=d(g),a.project.$loaded().then(function(a){a.github&&f.get("https://api.github.com/repos/"+a.github+"/stats/commit_activity").then(function(b){a.commitActivity=b.data,a.totalCommits=0,b.data.forEach(function(b){a.totalCommits+=b.total})})})}]),e.directive("fullWidth",[function(){return{restrict:"EA",scope:{offset:"=",fixHeight:"="},link:function(a,c,d){a.offset=a.offset||0,b(window).on("resize",function(){var d=b(c).offset(),e=b(window).width();b(c).css({width:e-d.left-a.offset,display:"block"}),a.fixHeight&&b(c).height(b(c).find("> *").height())}),b(window).resize()}}}]),e.directive("webDevice",["$sce",function(a){return{restrict:"E",scope:{src:"=",width:"=",height:"="},transclude:!0,replace:!0,template:'<div class="web-device-container"><div class="web-device-content"><iframe ng-src="{{url}}" frameborder="0"></iframe></div><ng-transclude></ng-transclude</div>',link:function(c,d,e){c.$watch("src",function(b){c.url=a.trustAsResourceUrl(c.src)}),b(window).on("resize",function(){var a=b(d).parent().width(),e=a/c.width;b(d).css({width:c.width*e,height:c.height*e});var f=b(d).find(".web-device-content").width()/c.width;b(d).find("iframe").css({width:c.width,height:c.height,"transform-origin":"top left",transform:"scale("+f+")",transition:"all .2s linear"})}),b(window).resize()}}}]),e.directive("ghChart",["$timeout",function(a){return{restrict:"E",scope:{data:"=",backgroundColor:"=",lineColor:"=",width:"=",height:"=",tooltip:"=",full:"="},replace:!0,template:"<div></div>",link:function(a,c,d){b(c).addClass("gh-chart").highcharts({chart:{type:"spline",backgroundColor:a.backgroundColor||"#333",width:a.width,height:a.height,renderTo:"gh-chart",events:{load:function(){var b=this.series[0];a.$watch("data",function(a){var c=[];a&&a.forEach(function(a){c.push([new Date(1e3*a.week).toISOString(),a.total])}),b.setData(c)})}}},title:!1,subtitle:!1,tooltip:{enabled:a.tooltip,followPointer:!0,backgroundColor:a.backgroundColor||null,borderRadius:0,shadow:!1,style:{color:a.lineColor}},legend:{enabled:!1,color:a.lineColor},credits:{enabled:!1},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%e. %b",year:"%b"},title:"Date",tickInterval:6048e5,tickWidth:0,visible:!1},yAxis:{min:0,title:"Commits",visible:!1},series:[{lineWidth:1,marker:{enabled:!1},name:"Commits",color:a.lineColor||null,data:[]}]})}}}]),e.filter("commaSplit",[function(){return function(a){return a=a||"",arr=a.split(","),arr.forEach(function(a){a=a.trim()}),arr}}]),e.filter("toHtml",["$sce",function(a){return function(b){return b=b||"",a.trustAsHtml(b)}}]),a.element(document).ready(function(){a.bootstrap(document,["fishfolio"])})}(window.angular,window.jQuery,window._)},{}]},{},[1]);